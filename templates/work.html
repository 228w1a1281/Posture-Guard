{% extends 'base.html' %} 
{% block title %} Monitoring {% endblock title %}
{% block head %}
<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection"></script>

<!-- CSS -->
<link rel="stylesheet" href="static/styles/work.css">
<link rel="stylesheet" href="static/styles/loader2.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
{% endblock head %}

<body>
    {% block work_body %}
    <!-- Container for Camera and Instructions -->
    <div class="camera-instructions-container">
        <!-- Camera Section -->
        <div class="camera-section">
            <video id="video" autoplay style="width: 100%; height: auto;"></video>
            <canvas id="canvas" width="640" height="480"></canvas>
            <!-- Slider -->
            <div class="center">
                <div class="posture-indicator">
                    <div id="postureSignal" class="color-circle" style="width: 40px; height: 40px; border-radius: 40%;"></div>
                    <label class="switch">
                        <input id="button" type="checkbox">
                        <span class="slider round"></span>
                    </label>
                    <b id="text"> Pause</b>
                </div>
            </div>
        </div>
        <!-- Color Indication Instructions -->
        <div class="instructions">
            <h2>Posture Monitoring Instructions</h2>
            <ul>
                <li><span class="color-box green"></span> <b>Green:</b> Good Posture</li>
                <li><span class="color-box blue"></span> <b>Blue:</b> Leaning towards the Screen</li>
                <li><span class="color-box red"></span> <b>Red:</b> Very Bad Posture</li>
                <li><span class="color-box black"></span> <b>Black:</b> Away from the Screen or can't Visible</li>
            </ul>
        </div>
        <div id="youtube-container"></div>
    </div>
    <!-- Loader -->
    <div class="loader">
        <div class="circle"></div>
        <div class="circle-small"></div>
        <div class="circle-big"></div>
        <div class="circle-inner-inner"></div>
        <div class="circle-inner"></div>
    </div>

    <!-- Scripts -->
    <script src="static/scripts/work.js"></script>
    <script src="static/scripts/loader2.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    {% endblock work_body %}
</body>
